<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c3bafd685df6b74fc1e60720692e6d90cf76fe6a90949be244acfca6833743b8f62309cd7e5d76705e37842b62616424e4662fb2ca19ac25bf1eeb8731831b587c36ecd9bd59a68b14541a586149deaf9d642694ab837678c52168b1b6515571cc2cf0ed16c7cdc5adc4e0a9994e6e562050b2e9b49885cfef91d354edf26355f656eb31f3c629618bad09def27598204473d38cf2bc790ec66b20c402541c63148e106de205119733ed255003d0aac8499cc560cb0a9238619a5822362e5d078ceeb7d7fea1778c141452b13abccc1248eae4822672ea8fdd1d17b61be0abc44495c87d210ae48b31d351f9d7871c0a035d18045ec716445bf501c08bf8e2823d2c19e85dc370dbf662cb3893f9965449edd35a0a49c37a44c8a968088d50ac8238f0ed687106ef3a66919fd032e32860604dbc523a085e5bb9aa0ed97e1432740f8acfc48bcd72369dc3395cd95640f8d13e0a61aac6f487af70e4c1c1d58fe0ad9099ff7d855d921494acc88464559e689e780d739b773507248765e2421259479f0a904bbb50f4f776f648a92b4a560134306204ff96fef846b15c069fdc0d256f2adc5a6fa534532d0b55ccbb01d5f4038dd341cd71032cc03d0da6bc5e9d66ff51f12f970e8835375f2e10a732132fd93e20265fc0b901805449e239d659a6b7d2b3cf9130f08aaeb00f4c75a0eb541b63e32a4341667c4809566e5bb5f135251be577afb6e43253e4bbb7d17a0219c770445e32eb25e5c35eadffb02b3a9ac1ba7c41aebd4d23ec7d2c52765b00ee9ccd79a7275c94338e4b423e5f47ae25a58f828c4a637ddbfa19f73b0ea09f92abcd139ed827b19c209eb870ca7e918869483e6d7bd7f23e8b8e0ac4313e9cdf7c696120daf4351b16d6e9ca044ebcfd00a8d21269f57a850eaf16c0af3b36a95b1802bde297d317c5670d4da98b31e181ae5ecfa9b0fd0a2c29b6d041d142e9f1541cc301e10330e594cdf1a55443838abcff111f788e5e6d98400931caf8d68f0bb3cc11fc38eee482c72ce0a1f0f41b767bd98406438060d470a1f71f12133f04bb7b3021132bc24f25e6a2e69bbab3f6a9da2e7883cc855e5b46510aac6f8a7452eb4ff821a5e8f13060340b33c29bde8b7051e978185d5fbec964ea9c19bdd1322f04b139718da485f981423dda354c771d3830ed5016e9ace748bf2f40b3cc15570f6b9ca27afed8881c6a2d78079f89426c3c2bd7a4913ae8d4b02152a7f5ac20264032f4111acffed7b7db8783867594af83e23341de7676821eb3b2c61227f1c261c0b5efa8dd357510e31ca1a659412ae54686afbad6fa7033aa9e360a8be53cf7952ba0971102fb4551b1a6acf652d56b02571371c5729c0d55162b7d668367efa82e12b6e9527c78f49d891190c81350b4a4af61205877cfa8b91091dc3766d61c8a57140cb2ab0b176c2f2f7713fb79221c691377ea969f0ddb1ef3112c8b674494f9c57d0ce48dd3f2e49b03a50a8f3e28dc77a54580a120e367217b40cc10b01b8f0ab1e94ada299c88fb674241f65565198842d8acd7233fff278fa75665590df15aa8a886cc7720ed0bb364c3bfb7bff136d9ef9500ea03d9438d01a37f14fdbd1f12c75bd39cb882bce026fab2050bc7b0724c8accee40a6d40ba638465e31cea060af01177e01f9a063de13f8edf2e4858cba9bd1e976ad6341f6bdf2fe331e9ac924b03edce2c16e9a304410768b4735bd70de36817ecd3a5fd3493f96f5efdff3d90a8a3696765cc244afa9dcd56c41f577b95b2b00befe8fb5abb0902ebab97af509619734f45c3ab04a8e56599f598635126e98f03342c8bf816db6c23935996fabdb4220807f75c9826e2c32fed55da7d42da02dc88d5c66315ae4bf741833fcc1c82c285d538637642064ae0d93ba1e560327801e71bf64ae4d7ee6fdf34fb68dbd2f18a523e853abd578d805ed943f7d03403ad9b4181780a848e87de252056beb8e7b8ee34632a277e295df51657b56962109f6afff0af8b918a9fb172127fadf2ece847d6d5fa6cb4219daf96c49b42ce339d31a2080ba749e3e2a11317797d478b53bfc5a510a7b461faf0b432d6913700441658e401bcd9bd8308d54432dc70af53d6b7426b45db13823f2459cbde176015db198136214200a502e2ab8619563be7e05467730314a678399c55cd46cf071fc86e4ec971dfeb2e806a7131773bec8baff3ece019e6c3a241374c4f828b30b82d551a29b163f35fb181df44e486cffabc0f218c6a6bf158a1122c05d97e2a17f88bbc0509ec90f8743ae8173ed8c27c03d486786057fff27ab362e3ad48f65336a5cf7878f5096d2c4e32f19cc047a281be6263e36bfcf1666013131ec7bccba06e61dee1ddc01b97f33029187579c6b8b0bf7f331844940aac59651cbf38491c7d13f85ef9c479821a9ecf68a7a8d183bd4d726f1f303b7559103a1c196e5032cbf086d74f1408d7355106284549d015de8d2014ea7c163fe93064e85f85dbc14c08257e43acdb911240f7e18d7c205726b4fc6f654ca8cfaa20b22af29da36802082e94a966714e9103df84ad4de259786e32c2d5846ed2d613ceb252089611b154b235a222823990f75c63802bca9a1627febd17e4a8c1a6b587b0ff3c890e7b35baab61aff4d78b35b25028376bf749510cfcdbcf487def061fc9f79cf238899c0978a56d132dbfddb2ce6b1c226e40f1023cf3f91994e67d28e7045f3f8efe46601c4915231c2009573b1c4c4a2f7192e79997959f613fe4337cf3558aee9bafab6a07421d9cba777f857a4b8619074347921ae5ba9232be28d998c5623bb6576c05842558785c2c1f2df9ee4f84eef4b067c9120dacb8d33699e61aa59238eb5231ea74d0077a03bc6b1dbae109afb173e1733a36a45d7cae71d18689e15c738a3014d33eafe06f132569279deb95bc2df1ed8f404815b08acdb0b1e55715ea768242fc78cdf7ef0cc747ed5584e45dab3317ea944518a7cde4eacb98e64788fa1b3b4e6bb4cef1fed6ce4f6aec24627db89711e1465629a830935fb415043c2c71a92c374951b435a8dd66f6bcf0c5fb4c3bcd98496803cad84561b4260c105bb496524056fe748fc88cd80ef7682de59c501707484b3672ec879255bc512f7ce95df6e968cecad5aa5d84071d6fbe99efc72206717876c12e54d2cab03ec6803ed52a4e534fc49b5c56cb4a85376badb0f18a228cb1aec061acf4db09390b1eef2613fcc3dd44f5577b72e784f7754d4f4872601dd75ec74093ded6699a7c2ddfab3c5e9fa97d9f4ee6d1759bf45913e635843d54ecc92a32020e6f715650679f379b2e8ab1f3b64837d9c40198a81f0f7960cca43dbe56f21728cccdf5fc5f1f32ba4b3cdf8fed3d6ecb5cdd69b70ed42f16ad362c4ffed1e032ae1906a5c0ee75a6eb535de21f7d132ae774ac20349f57e11bb457cb1aba4fee43efef8bb9118e7b1b0a23aed7c8b9fd384bb607dce0d241d8094eff3b23790842b07c0f5e9ccce4a5a93565588cebc1361681974de29691e8ce32cab6d3f6b498e61cc11cbac9f4df2f1fe66498264ea90758cc2da476605cf25e7ddae1b1e965cc5cd2b1d53d15d6e3f93dc46030372b5e1687361186c9825fee52b71a2a311d026c11a3e878e3a2541e7f0213ec006bae93b4c5643ca0729410561c4227b1926190511d40f3c6c8bfca1708c4ca4f7e0772df168a828a22af34dcc743b04e996389779666d2bbc633c809db483bb5a822a21adc0bc34851c9d38aa88d143f6f0518f09d9c65ca558fe4e8645c477b7788daa9618a5cc6a44dc6dc664dc938392cdeedb9c23217be4d6bf29b1d83305e8329b274ccd95d71bab85919de40534c53cf8b1773bc77c5b917518fe80c7e328a5fef0cc35ee09b74093e31f4297e223628814dcada552251784091a9b3a473d167f7f2d8ad76201f26ad42d3f1429dad1149bfc8e9e0c0c10f30a78eed570f44133a1d0423f3d7ae6d2968b26be035f673379bc10f262de598e3f0fd39ee794fbc7828e18e64d81c65691cb0ee044a8393dffe1c2bf197402b4a3a4e07212d0e185e6b43023235775d6149f73db9f706c64feacd47c45914b1d648d5ed78bea4c99d13176b767ae2b5d705238ace3e91d79fb8b58a166f89d971d781196ca786b8417bafc01982001d1b40b965a0af478349462693c00b24b7f36fbb8169aa0ee11d6612752b6183b67a4367a493ae33c59cdda9fdce5138b88442c140d3cd161324d39010dfa1229c7309e8be480c38b311d89120307d2c099620e21b89221a6d5c00ba64c68ffbc58aa402f91cb39ff8c3136afac3c547ef993a5f8e73074fb0bd7caba660fece7ac5cf552189f2c086a9bb99bf881606d42930c91937c03e5dbb85aca204ddecc92b81472cfd3ef76de9b6915224d8c46979ad5334340aca6bb86108d5f33c637dad9adca529c85c8c71979d32fd3918899662edc133811e172b762e865eb24ac7f7e034a793281fc5fd713583230e3ffed0b072d165dee20673360f1e964d9feaa4755171659b851237d2fffb520bf3edd62efc45a509dc76b6171cbf04ef9416ef41c842c9ed43359a7bc245a820f0f36212e17bdea2284805c375b0e9c89292b93c7f2e9937bf4ebce050fbaac52595cbc09fa55b302a9794bad98c435fa5e25d5222a688fbb75c88de477b8b58b5643e0043256c609a248155b8f39fba06987a4da05ed584dc088c33f9ecd76a5f91d60df128c955d1b9914e2b4a697a7d947fbcfca844a7fc63801f8fdc6e7982c67d96d626214c33efbb75af02d2a12697fc2fa65556ef83107da4c92dda89b3d47266ce5e4a7b6f4b7f19c1421ceff4090429a6b996a1439a37c7caee73351f23a087606a93675bb07f63669eaaf5feac22b8862bc7a22ddb151170e949c9681a6a979ab6c3837ef8b24d02e1ec6196a0e6d3f41a3f76bcd9fcf7ef26e83e4da9057482a020910a793f5469fe06cf7cd8438136bc0e29f4a6a5f572298406a316d36331cc26e0da24efe871bf5baed93d9a8bb6ba813a2d9856688b0ebbe98744afd9381e77ac8ebe36da4a4a1fc8a42a90c748c0d5545db3a72e844796610fb429cf623298fa6e744047f3802d17f37dccbb034f5270ceb8bf3571bb1b50b908a66de9aa578f1686c7f657ccaf5b966d3581bbe22815fdf71b9621d9360d34d869840c449309f990cc232e243b2b4bdfc70b2c1c7e378026047c71ecef63f08a395ce4ea0c21c5f1b0d868439601ac307c54a0a8194a33a7cb3e82787914403eef20917075ffd4f2a9faacec788f7b9cbbd3d1315b6d280047b7ca84e7bcc0b5af1424c2c34f733cddb9d105c738981fab17bfa06615e35bb27fedc0c7788e454ee4538cd5984fffbb982e277a8ad081f729fba29daaff5e1f7d75a6257d90f1d2463ed3b571ca1b90cc26774062d7edcef15fdbeb99c56fa7602a3c778f8ffc82cb5a331b5dd4e8293cf27925c04a4e65156f2571d7663a4a0f8ee687fb18e9f8c3599570644ff458a8a09af3322d7641bc0dbc406891c54df7c0bea94da85ba6e817bbe68e1e4943d47e2958a7c8fa3392f93919346140f484b6528bb73b0b98c1ef2a6b19dad862c3895a6bccd940a5050c4161b7b270bd0abe69402b78a07ff14298f326be484e5e5d5166cb32e62ac30a6cfc499cdf8e62e3e7bc8836bb2b09ebbdae2d965031a8aea217299fd231d6b721eccf5a53f3b6b43f025243318e5acda60e8cc09453e7acbc54a8b4369f011a6d4af86701bfb0ac0104ddbd87745432d148ca78e94a6ae468f5640a0ad1e2431c1b607eaa02dc6f81364d3b4cdd550a4953f536a9b1a74dc7747cc8a2e5923ea0c8446fb412ec8a9ca3590ccd6879f94dcb89b9ff48adaf671ce1e408c66f216d7950c64156fde0eb3849840ebe2b2acd83dbd2ae175183b8180e3f0527a7ff78cc764aa86be43432df1faf40902e0f397a04f7d0b486e0b334e9816a22d700242180036305b1aca5d42231abaaa97170e54da2d291fc4bc7581111bf8c122e3a499c51882926139c85fba7f2dd04d205189f5b0d664ff6dfa7fb7e3b775e8f2638cb0e70a9f8a7e050993dfe6ed08ae8f0c71c48aa7f10ef4cdddf9203133c6b241267ecd061bfb4acdda210a6a45c1354f0b8bc4c06d3feb7b9e5cfb93e70e472e8a45e4906530cec44c08f3060b5c334995dcd73380263442ba36837cd7286a1a35114bb193bc1869d79e5159e13b8215df3a5ac56306be5823a888c23f0d520464922a0828e3b6d2216053f7df8f5065c48eb061a889da2bae245b708e40c8bef9b4592302f67e33ea89d4c055b648e7cb7faa52364278358b4ef0b9d1d920eab483122f236aab6e72fc4db8e0215b6f4f6cad1a9b883d509e52e7b198578155013cd549876a5a5045582db9bce891e8afb9b506d6393edb4e9d8c7ba214e77c336f33aadfa17cf6da727bdad12a8b2477877010a71ee5c95f9a82d30085e748f4686a235f118d620f22e9bae7ad024862063d6b3daa39fda418c263c956bcf01020ac6d3d11147a9818139d83a8e4aeb4c849b13d0898a1b762850fd66ded1c406eda419b257e4c79fd90dc74e50bd66b7e022f340c19efb703b3df31b79e0ee3a5ec5bf4a93e3e61e78b972b9486b7d0f94ef0f8961687982f8114e4a6dd401b238a065a970d32f478f452fce5bc9af95a6746e5c721834b6996808de37293fd657978a81b20ac298c6326e8f52936574474a37879a26c6366b0dfc50754cae98a784d1b62833855f3cfb6a7451981d41bd09f011cfe1117b7eced2d433d65db791afafdc9b9f9d915475b036d4b896c6c73b20b3edda83ed3be3006c960f595acc2442b504aa75512571d6cd56bf2af74244eab3ae43bcffb982bde84b76cb96ca6e33feed62ac4c20c542a96e28cf352ef8515a5d61f2467c9810f428bb24d694836563f34ab9066635df8c6221f181acb57afcfa97f1ef330dbe46c4a1997ae3575b4e2fc370812a25d32d63d9522fe770bafc9d512ba74556111b8b71beb26598d5bb36ab62d6144e9b499876538229075cbec000ffcffb9db213600c2fde0bdd965e756f6648d373888792c07b11eedf3b0399e629a53778b2f2b62773395dc2f91271d1f74533d58c256e70382965ba9d413d3468386e2b7ee97fea184a4c0d28594c2924030afa282b8f2d4b43d55776a089e55a4dc25ed96668c6f042a10e9b44b87c6302dc181e5a22371a3649be0d5ead1f734c244a94f7e923aa880318cafc0029dd0929a090cb6fb99f20d47bd971a1c8d88e6f4233ce4ff2caf0f330778f712f18133d1da4aeed97fabbdd01009d689d1d69301b09eb98a47197b987f3d87ff94c83b78119a1e45f13ef216ab2762267f3bf472186908dcfcca0fb598dcd7b9356731d00d34d946556cd9633cbe9060ccb49cbd6514b0ba052af33bec38a1d643af71a0383efa85688acd8e259888eb368d43a2eb93f9b5677e539fd5927fca4ed741f065121103b0995906c4b0c1aac0b7f850c05a3c1a2ce8bfb088357cf0f7c81c914b137fe69b12e79fb0cc85b0d5a956103f4c2ce7e1aaa0c6d6640312d683a61ba3dc62383838676890e606aafd4947d9fea3e9928b0f8783e435bceb954d55b893439b5347ba22f48b3f64493834434984b5b5453322550ecf4f8c05bd2c99e3994e634e2bae1cb5e9472560f365064635894977a9ae97c3885679b4917d8a774c744cecbe7cd93334649a14e54c637d076c09c58c2b41a6cdc77cbbf8d6a7a4ea08495d3b09578d00f6cc110b65b2f81739732019734256e4b41de6da7127dd206a5a24c9f6b6af3ff69c4807f8c860dcc86b32f6456bc05473b46797e1d14b5769d64d7ad7e0589b31891e286850df13a058edcab4ca44ca9d23e159b8e6ddf47facb2beb7fdd44b9aed41784cba57eb2718b8e4a066bd1b1b1c8532c2e0b6bb949baf57057716de8b5c0c4c80525e969ad0a7bd868ded1887e8468304bf38cb3d72b3773c403521f7987c3c465264790f5358ba6356953537c73ba756f2034f670fe54be543fd345c8a366d8bc205b244e97af91e48906a64a0384e92b5d2daeb4fe1d570f8d55ff8719cf9c5d82da189a8f348fd4e98b483a1ece453789572829df52e8c971a035bbbf71ea4ba2ae0447dd46cdc2bbdd45d1d964a22f285a7ea8b3075d061ac0ec69b0122110e32c731c788068c94f0cad9e343d98fc357e64371ca9cf54228e4485b72735a9b096b72aca23f7fd6eb177613b7d776bbcaef71c1db00b127f5304b4089cbf83ecd972e542cb2563c7f9a5fb058dda60877a45c8f5cb9d9e6ccc7420764cf1bcb47be523fdb57ac7920fa97398c7fe7a090de84dd0b0941e2295692ca62e05b7350b9ee36021018218285a12880fa05b998658200a476024124d2691e7c9606cb415458908c91a76e9b191b1e7d7f12741b5304aa062055cbfb5df886ac28c4e44284a0ae4ac5a2ea00e82eea9dac2d13ced6d6636973dc6d88bd22dbf59054eef7101522028a564057c68d415e2afbb73cac6ba84cf9ced4a7382c28833b107187829e4e4b5f31a5d0377d7d0160dc005fb11dfec7c05fdd333e7e076cf5011ce719e2f585db8d2b66f415d6a1fc64931fd6b875f5b56af3adc6db328b918dad79b62e6277b4f8a8eab473daaafc59badda4c02113b4468fd33a562eaad42724d88a0cbb2ab6c8f01263f2c905debbe440c1f9a94d7f40ccfc2c112ce28ac0bf1f1a9cd41624defd08d10e48a9a911bc6eea2547126945444bd6cd016c56470be530c3ed14fc8c443c6a0b91718e2fcda0ebdaf42de507a43292fcf602935f1164479ee103beedf971861a836fb76e4f4b420a61b492ed26d2c7e0fce1ecb4de549a7d37ea29ccf08ae5849ad6061288b14369b61ebcda089969f9c6dcf83e8a85313ec3e0bdaaefdda1fa6257dacd80f0d0b840d5d2720868d8f316c512a6264c3370ca0c2703d2ff226787c9a8afb0c420043de9382993f3395d7caa48543c3c376baf7821c8149896c49a79e008654b43569d6ddb77b950ecb2a24a4bb14913b696352015d0b8baae467e51de07a46f295048cf00c7e386339fe9d24a73b2bb1441a8e27a3264b4730d20dc80b229818e70cc81caa8730f35801bc1d4d18d400dc0b783829e2bd04a2e51527225c3a8328c368df7cd4d0cf6115c6084bd33b4a39da783d9b227e8e4db2055ad15e41f6a0e1751ceae3d3a1f40cb456d61805745d1007da9ab8d21738388b0275b19357aaf27a7ca5ab9946d5e5754e583b82a5cc9977af0980c4521b3b35a041d1e2c3eda87eb0d939fc515cc22ed73c8170cd4f5b23244ea9911f17c9ddbc5f888f6c8826d43b7a338b22654afcdae7fd0b5b4faf18c14d4eae46f723dc4d8079c93d634de7b69ba2d71ad5430ec8acc1da756f003cae2847baaf92b2b8e9b189121ded6c26464b3c510d86e517b622ae6c1d2bd27e478fd9b4ff1f709cb212cd49cb43402bf289bf8eb96771a5d845b56bc206bd5d06326a973a0a94f5941642d59527b8ada75e686b116a048bc7294309f726d25ee995b3e35b255e9dc37c7c38a9c0ba819f711af2760c74bb3f53835e5b9f9f77efd43c81e4166908bce616f9103532eabfa8c76083c71f4347276d7e6362de4db6c8ed638b7cb666814f3ed527aff7b53df7e7344d3f0b785010a94ee57adbed2b15582227da778a29d821654606273cc24194a4b6cb30187f5d317b46d09f6e705a31afc2d280c0c3c8df5e1c55fe4e8bc9bc14d63b5cf3144b08f511b6a96fe82aab0e8feb9519caa24e0e940d21d84f7837aac707ea173b3c29211fa512944f94623d24416585add385c6d4bc6b0b8d6ad7478edec691ade1028e350968badd61e6c78fdf7895bfc355902645a7640f77e970c40b21ac2d6234e7dd728b72c803973a0e70639c688a0422c4b6e3c618afa9389efdbc307fe2aac29c803a125e42064d395319769d1aa9b3aa4d2cf8dfa6c8638beddbb13bab67010646eb75a463ad77d7ca934974ba422dc997849ffe08bd8396ce3962dc9284956c871be24ec002a0bda6fe8d24a63107dab2880e48b2e87fbb3f017e554e40db81df23e5f505a08befec5761c295b22d7dd25d44cacf36ec8090ab66f2c4ed575c31533ea97c38c075bf35c78c677db42cabede53a1847d549ff6d65589c10d6ca99128433e95937fdc9d50234d0cf714a277f87e04c9cdbed29c21eaac63407e8c4506472f842f436ac5d5e5c4da51941d630bc5a04ebee97d2e8b9513dfe116f4a360da4f41df75f5e25ea69f680c4478413170fdd9aa505c3bdb379e3990070ef833d2077e952fa42a32fe5c2cc1b608c038efcb96284988734b214a0624376d4648b3ed1ab8b5bf47351b8cea3e47a6712ad96a48df6cd5940bc264305cb9290e32ca96bbc36f0c0864d7a8c09f13dd05c8f6d70f0728055d81b72a4950a4b24b5262b6f716aeb1f64f12b9a84792a57a3ea086e79cd7d33f4bdf47493d2b45d14b16b95c69a02a1958ed636af42d20fb4ccafcf0e7c386768be594614c176822de4ef3ef9e857eaec331db9bbce6ee815fad28c78a356c61ff9d14911ad76aacf9556c96a718e4e852c7cd15fe30fb3d6993260f70e05fa3ceb3d96af342d0a97048d5d929506ef508ae517df877f415cdb0f0ab3e4b3b5e645ddb6b29225f228459596e1cd92be86a692282c0d537792e3f3d351934208c738f45fe820dc974c4a545872fd90f945812314e4867e92e6ff8709e8029519b08f517a345b66cc973504e21abb68b72e488c7b164f8f5e77c19448b54f2050ab5abb6bc2da9c6981d3686de02f27dbc7820c5fd4b82fc4b084fa5638f977971aa0ca945221c5e37a0730ee5e1d5757323273c29ba0cf1a519321dee0e137ad80fece92cfcdab8dd5e77ba6cf5b4612ebfed7dfab8ad9feff6956f05404d342a9438af004b350f03b65f07abc11fc5bebbed57cc0a2259b7b95db1ab6b886975c6c5cdbe20ca690e4f2b6324ed7bf6cb59d1ba295503634f2caecf702779a59240238c48d802c56085daf1ddf86852a148cf23c1b939459daac68d7b80ce5387ddd943b5f2ba8b020950451e201e240deb4acce0630b9dbfe02d7d2b5b96ac62441cada34e4b5b48de6c65feb04d2e256707ef06d4ed8614e7930e1669b04716de4ca022f1240e329d397d0dd3c4d29564457b08be316a05bf32026abc1af1071f58986d4d7b43ce1f007e89f8fe438393e62b3d7d531b4e24d06a097035f46baf3c3406ce1248b5b0301e5004d440dee2d2b29db1ac7bacfe3f65aba4d9e43bfe98c008c0c24f23ecfe9c053737639442c9fc2b9113dcf675c53b61c36069a3cde3bdff0c3e26a840d37e3af339c0d5342812d71c669eec1f862ba5db16d8421209729df3376dc0ec6a80c3c613815b6793a38eac53f285b18ccea96a4e777f08f1e3c08ee1bf778c42fc2608c3b9b359c01c7b8e192c018560526627a320e0efe0cfc02bc134e5a915dafe45d5091167d3e781be5c60b59ef5c2b1daadade9f8d2bbef2731b8ff975cf32041b92de9767f2af5ae08490786ad1da7b5d6b482b3d515803a7363042eb270dd902138ef1905423ced5f09d52c3711e65a86bc687689aa80e803f5b50db56ae52d59c45ae437d0d37150ea3ad053d25e2c29febe6b14b9e37da90de281bd25430f025cfd3265bde34e53a14b9b4d623327ea07b4ac1fc2f95d865bfc13380ff36f31fa20539107090307bcf0df31093370900af2d3be0af028f694405bd15beea9c7d77372466b51bad9b01b1b1627f542d7cedb5f73b39ebcd68e54f04855888aa70e36cb1923a8d4ad4f0e213d9abd88ad5b0e0b13c38a2c2823e028083ab1a2b94b39fdd080ddf6a4c9fadf37d2e3a4aa6491c9e5c73020a762fd35573b477c96e1e4b6ccf113658faca5eb06a4c46864a1ad6f638980a1b26d0b4bdf118944c572c477141a04e9babc13a53e8c1e2172410f385030f5b7e502853b31d7d394a5899aa3c52900648c570aa08112d847f86e0f31d7eb08702c9d1210ceb3a969062959cc809f846cca483a3acd11b199473252da88a6461fdca5b5fddd4dec0cd99969d7f32ffb528e4b2eb80a2761ccc52c63c7512af7178ba02c686543cda687d861fbc0ab07735115a4baa3d3ad39cba52f12c807229e79fa80451411bad6b40b633957baa14ab065c858d3d720cd4feea4b1318b0f8baec9f89462cdbadeb476cbebb551011e2561b298dddcd9044e784a69c02e43ac19e1f7bac47010f7bbde91881a13985d1097cb877581d571cc3705d19ca1dd6131decb762b40eb0986110a366a53f2ae3ffd35f2d7b511b0697a06af2be28d05fafcef19566ea75e8664900a7dd4fbd71867de0c95ad33b7a82e3bdb1465ff6cfa8ddb054676523363058fa5af7d9ee7defa64e97718dd2cbd65ac4f5c3f4ef78970b2e998a8a2db48af68c76ca6d48263b4059e15d80154a1ee3e898e04529a205c4e50493069c6df042d04d03dd3461b619791ae0ace3137f28c838301a4225d745da9aa9aee51cf3d7f612fc0c8140a3d3feab71f134051fb26ffe4161c3f4f5103d6a15665c46628876c86f947ff83e120b807aa9c071870d24f88294348e7b11d2776bd5a8505e79541ce045f3ec217337dc0d712d7902b0e1cca702748333f32fa25263c7f1cc0bd5a8689383a668c4575a95d48b119d586e07ff19993b80a45c00058c15a5227484e66fd74f95695d7ef32dfdfedb133cd6cc50577c242fa4d3573ac96bbd5c14cc94a2c96292dd7554175475c17245f72f2ff5f412757acd4debc58b77a0c3c2957292ba9b6ac0b54a35a9006a17c3f34722a62555ae3555f513b5a6ef6fb673e596daa6bdb1da79e38cc58f0197ea46d58bdc7f91d52d8b072f884de57db756f24ad9b029393733d563e0eb93162bd16f42d32118259f37623401eacc43aa95e703bb61ec91e10054f266aefd3458140dbbe33dae8f37fec9420fa59883c19564f86af98bbe5cf688bc3e071d9da3b63b2f6892e3468ee248bce64858cf387ba5d954c53c6dae67567ebafe04b84ea9531688fa8afb9d08ee3b9c4fc7d974b4b289b2ab55fcfda369de9e8adefde1cb9118eebe649dbb1ca026600bd964fbc7a2f92cddc7fb57a7db5ea8fa14090402dc5c4da2360a569d00cd58db59ad4b3ee98079edf1b1a9880a297106eca6367e54822962cbe0974835d7dbd96f9264d25b95b8e4bd44d1247058607871a38dce7ef234a90c1c47d3db72526589f7b8b1f29f1d6f87fa3a328d5ac9f0d484a6bb320de48a8bce5668198f71bb7f78cad604a2e7314665b7b795fadf97381974bea0567444a4b9da4461d342c5ce61f07add39fb2bcaeb3802231b11c509c876ef88fc9fd6a0630c02b7595f4361a7f5f0d85c8456b7fd4fa62acc2c45deb0a144165f22ae9bacc9aa71ed1fdc8c10851e620afc58ae3ff024d50da827fc7d8b867bbf64d2e85b10de2d14fd5896e3914d5250dfc59bca782b5300cc10d93a0a80a9b191a9a8da8766a6afad230e1bc8ca73d98e9f261bbb26bcb5e3f3dcb2bc47183cce1a6c088bbd3d5ce503e028e84e724635126d2208b1fb0d4d0eb7c6ea6132b329f06b5e81731c947e14e88188a9acfe089ad4d2b815d89af81ecd8b043fe8541f68b255c703557d58b7b8a7ce96a155a1c5a12b71cfb3ca5de355b6d59794879fd95786d9f259eee68990e5ca9132f98a51987801dfdb107c6cf008909dbb38ffb1a82154508cf77efc062f3a039cf611554bf422c0cbddcdb3bc0d71025c7331fbd43c64ceea64812be31ecea3096186dfeb8a9cf2faa22ad4f5a657ca8adb5f2e909e7c4906d15e931701cb54eb456b16cadcbef2b9e8dcc3140ca578b2b125478215725f608be30e8c8ef0e116cfe7d8fecebd437a28ffb687a286762656784753f39ca1026f0c9d914acb215fbfcb46e8987e4236de452f02fc46918a920d2a47fafc0d71ebf2487906c8106b1f29c14badd66208a78df8d978b248f141830ee39aab6c81552f9194f5d718c3ffe42783e95dcc76ef03eedb0e7f53b9e0d9de7aba9ba7afafd4e1941de246363b52ee6fd7121cb0e319cd395fa527aa4ab06a9f2b66349485e7efbb9337772c01cd8b4fc5855b34965021df6861ae4b0ffe36e9fced627e09ea8c388b65768a8c2f00302db65b0bbe61e96940639d34d18de9ca9ca250cee3e5084d87b19b67b7f27d20ffd837945013c12af6c18f37c3b56e65ea3e0fe7cee654fddf05b65a827ae3926bc02c203d9d0aaa09611a8c2eb505e24a9b480df4b392573744d965e4d545f2d8a1ff3bace28d70158cce7c8dd5eddc31a4c931d19aa921429cb4873a37becdcd9ce115ac06298de0d241f5e262e683820f483bf8badd377d5a8c0d9fc67f7c586bc791bdd30614c329e4488cfef94e7f111ee620a2b529a1c95b4dd23e8f0ad0d76b441e1eb01933b02248895e3932c8fe3ec5d1339b37b9b0c0b464f256a00ffe8ec29030199fa592afb4d840fa65859a9fc90ccde164f6a75401e16abf79a4330aaaf7a822d460a00791ccdc48807876ef852e0e9906be4e88f551f9288e1456584b1ae219f2a29bae9b0e620dac214a57fe9e6a9952de8a9dabb83952194c74e681d615d7314e8a1f7fcfa35b8c344f145c94703349fb62da17625c7b7ca5b0b12e769f3bbae0adf9e4540a5575158f0c6d1c40b702a7ef735e44df4765b2f444f65c049c340a3c3a4217b3b1a196b8078b8b4dbf5bd3ba70522871b7fe4f2f5caa696eedddead22bbc769efe85b8f3921d0bbc7701089aa55ba7296a5f971f76057c4e447a3f4feba3203c05857fbf44410b8b39e467d5f53dd55478cfe86e8416c80ff254f40cb5efe1f7611afb86c3d9bcd33b952bb446d1eb66166ba9563e652ff9d8f32140ce70729bc81c171eafe443655c30084638dd075b2031b1540f822f9211bb44dc7171ec7f9f74523c4f8a49d28d8129767020253db12eb1f7e1c60d16826781a15581e633f7092fe30af8f97c1ebee8b3f739bab224992857789ac70efcc2dd439062a9c4ff7a65e7295821fe93c979a87bcdd527be9cc3f1bdd94d15b5cd66ccad53d5870a3161494a061f5a7ea39cb52a22e1dec43358c0224430ebd5b620c2d338c55e204efd6b6ad6be082550852a3605746c2fefc4e2ae8688cc3572fd56acb315a951d922a75286b3a6ceee5456ae410a509aebd041cc1668ff126cb61010bdb0be90ca2fbe429ee947e650b7f5e27baa37975aecfa04b9ef9ca1c2e8ed49a25bbdceea45ad86c848d963be9762427975b716043978155293b62b0b6763e77f25e33e17ff0444f28349c6891292ed850ca331e23dd27533a57f70865ea89ece2161a23284aa390a9a83f8556ac8905f087e7e6de00bf54b084160e1dc37c9d177b5ac2ce6ffaf2f54384dd28526d21defad7cd1fd3fd47aac407e3eecbbc7ceeee06a3e7189f248cec9590c27184ece1c65f70d97d93126fb831f5bc4cecc22a97e7011d04bc42f90cf9751988e0c5e97d5932dbe7bbc991f89e2f35f5e42f318a5e570ad20ab0d199e2e96d901ddf00dec71a75a85421179dd18ca112c104a6ae5a4fe760fde4de744831d4d654bf727c13df92e299f8886a07d33853512deedb0ecb5e45df68253d7fabfd233a131fabf7eb37bd672c4253b105251b1e489b3a39eae5b67a301e511b88086b2a17ff57b4a90f8e059d38201a4473d1ead47eeaf7e04c1d3d2779bbda68cc87e2fd0d69cddd181af8e01081b8dc7e346081b3220fd5b75b74aca87ad92eb1b9a097916ba8fe0351c44d5134dc189f30671ac27eefc2a729b66bc32e71049afff857307fe39cd8addf787ece4ec66c15a1663a8b2e019b7ba31c40d5734d6c657a21dd0d3d385213b6c27ceb9b274fde79adc8e11c20e199a5c9be7b35cb4f94a854068db8d588f6769ab5049bc8b46a58153d60cbebc7f9abb3aaf152e58206413994869e11946bf7088177a19a8ed76bbf5d7a60d70261111525ffe19bfdb6bf7d2b65f62bbf6a8c07c22f390c97dbcc367e4a914f55e4e467527af602492f843b91205709acea8de6766f9b7a996adda49fb7c35af3012e4b1e0a1065c93a91febbb3c6a1aff1183ebe19706d778ea465fa0c204b2fc3c8268c618c51b5390e03230667bd6cc83fa45c2de02d6bfd08069258571226c662b12761df6602fcd2e68f864f6f8549cf8de1a2080f0804d6df30a9c9608f63b7f12620355bd68fdefd5a8fb635004f6898df52666d5eee4f28a96bd209e0e689e86cffb2897f8c7072397f93e7c397c804714d292ceb89f50b879068303b841ba832f2556e73fbf87d43963ffa00ed408598c602a6c9efeb314b5bf74db52d107b726c7441a4f5effb61a02f06ae238e06c5d04daad783b1058d9d4a4e1d324186d8cdcc697e3484080df5ebc4c2546bb4a8a6c1d2c1cb6c70883434841f4cf2788a1941cf4eaf7147061c029b1e58fa822677b02dfbe82331e9b83729057ac4db158ff16758e169dbbc841e7798723b2feccd71101e4968da41356ec085c747ca5cf24c174c9833b1c101905e30d23f4ca89b1804e44fbeec54faddbc9228e3562a599e3c3c60e887caaeade4a6151f9fe7a856387fb22395a65a7e36080e3c1173512acad9853c121b4c8446cf8c4b14aa5f0388659ad3009a926ebe38be90b485963d281bbee946788690e8466c868daf79c2aadfd88859ecf10b6daeb59ac8700759830dc28bd8ba36eef152bcea11cba9bec32487211c3355a8c8c287d66c242fb34bea6bf930318371a9f8706ca7ee457ff85335aff28bdf3b05d4b4d507cc1d751fd2e86f2d83ecbec68fd8f7828e9a3b7f31c7273b2db4365deaf5bdd13ffd7a244418e4aabc79bbc275d7b1e7437cf0514c395b69ee91997cf7ea674c5670e44376077a6d3bbba662934b64ae0f51ffb2a22497782cbab292a557b7971b373ce7839cae89589cbc210efcdc7f2900e8b90347facf47a44888c2cde5c0d38079d7d5a81a108e017cfb3aa73339b91c697a22068e57a35d1ec9ac61aed7ade8692dc2b768915912352a3347fcd6fd2794d48c3fc55b42c97449767c61bcc9108ded2480ccc7dc78ab1b3f8bdba8879687851530552425109a13e0e5895bb813a9ce38879d1cd764adb043cae9e5ceae727bdfe8cb9941f16a299a49323af626ccac1c1e3bf63b9630720ab60816775900abdd03cab9a7b0c3a4e447541201c0512e20f0806243b8f241753804980c2e073353427d2ca89b0bc963d06ac358be44377db67418fa020a5e2f8faf196c914bc0613368d02d805119cdb50a3395afaafb08fc74283d89538e67965b1a5279f487083fd592b8bfb4d3c005d10fb5176ba41116fdaa83202870e5941caf1d2aaba93fd31c9e5ac6634ad24c132cec1002f1d35f84018f04b3c83b2eed437f13d75a94ab319e59965fb7790f5a20d14eb6d6cb4db9e6262028d44ad1410a8d5427523b89b5a9b1507162f24090cc85a38bbbb50871a275490919a4ab7709a388f1ed4fc845f646340d0c314ee5ddb278f037cc73aec54fc107fb8c30e517377733b19f6ec7e28a23a1312a9e59d230f04ff575a3014b063718da66ecbdb5636abaad56ba35ce25126dc97b1491ee761eb11a2deccb5dafcea938e70f90f38ee8a54df9bff9a2485ec07b024b6d5e209546a856270eba1e3bc499a0d452a4c52310d4eb692ffd32c7fb1a0bb5874044a8d856242e106ad3acb87986d6f7c0d7a61b92c2e496aef4ff7846c01f57e2128933072e52db7fe13d8e5e901835b028d22e681a559d86f84527814409959a10d3f9266bfda633396ac23858e5f07b6a15a912445e479680edbe67105eb04ff9e57ee985a606b0560296cd554b59194024b97b56a73addbdc14633c931340a2596936771718f5e7eb60166c912aa3a9e6e6e226cd7bc3a40a70293ccf83fe4390c8dfd79c5d87623a0304fa42ee91245c825b9437480f45c1b634659d115e095e69f0b63fd20bd59f667ff5ed7d8358272846b8831b23b55397c471c8d26f32551c7592f0aa4bdca35b29598a59c4e5da3166b21248a3540eec667e124946916aa1f6a55d1fa546170e35aca32dc0a0e38c81eb45c9ad23cece5d38520155cb480b1f99e62bbe22d91c6cf6c9c13238b09e55c113191325ba65946920d168b522506c6cc35bed491e06190f594436f94654daf9990fc449fc42d8b065bf0a1939e78876e0e0bb7bb8f32f9c6e3012ed2757a0de55fa25da275f9ca90dc65b62172dbb5327cbb7a3370457e54dcbd2962171afc23f5fcba5b99f0751c54254d5e83d29ca1ca125de04941ed177233114f6d6e05b9f7cd33c9ed67e0fad669d0948c8f5d07b90b3257a695c240afc9b18c4c79740debdb961d0f7e7b951b8443f270b1a8ad9bc2d54f5105d7f73cb7653fe16b7a069032585fbb063843bbe21506a98ad56297b406cae30e2fe8c93e524bf666b081b52db9ca31fe9c880644da48807488853fba7b9011dce904a740b6d2920fbcf1066026b4b1c1f769f562431243a93e389c731d9f3a802fb1af1cfa0d6577e88c27bba5943510f0fc307c31b08ea40344d7d9aecd301d3a712c9a005b1936341ddc800c92c39f2456af28fb29ac5a62e0f4fa7c4941f7ad06011e1f1ca3980362f786e445063911d0db757cd4d730526a23aaba49a67728ae8bf4fbc63db8ab22da907ff423e70c5fc0823b41aa8a757ed13bf1bdd8e224828363fd1b4c5e10cf4a1f02e848e99022c180033ac9af78cc70836da75f2714dd042b34119a785bd369dc78457f33456f1c6f9c8bb6aff3811eb52cf4115b11401e3936bba338a1e2f8b4d8ccbf1a7f01c7c27fe720165f1c01ee2019d4056750cdd82ebc86faddec5bb7b72984df76d6bbd9d675dff967a15fa1e1458d897e66a3eeae84db26a07e69d9bd92e8011c9a30a7b5bba0548bbfcee4f2dad88d88b4d160d959370f4e7065bf127c26f759c547b651851503bb7e663f723675e631d27b9edde0272464f13e3c0297b0b9fa892998209e7e6b93e1a24a719a5fe6636e14cf211d9f161130422ae484ed107aeb6b8fe63546b361eaadf622e5c21bae11b0a3e744f24be73c0262655f06c4e071cbb50356589f3b297f85f8372994c82732f78113ec45c9bac19d77d78d02e185f6ceeca02338f1907dcf46034f384814c42b47f46a2a711086687ad3f3b7b0b521d6427efeef9b46088286c053b4c603a9da29a1965903f135c15b1e2d1144ba95272758454ea837dd9919243eefb8eaa32ec0165539ddf3c1a842a5816c919a20fc3d98021f18564d8e173a44ea26227c36033b2a5c4dbb97ad065cf1cd788c4337379fddf0dd8faa2aa33858f30ff5b2289d07f705214b6f966ccaab50b43fe883d441a9dda93a0d1a883efccb2be3c6d37305b35311346becfbccf87bd0ca6777c51c4b03fbf80dba3d61123225464c9a2ca8a52d90d37550c45cac8a61548c82f6edfee4c87ee28bd114d9b15124aa50e8f7afb7ff560ccf693d673024c1e4fa4f2af3ccbd13ba266d8c6053677652adcbe0c410fe55f7f738ca942c1ea36565175b12574015f172139b3aff01606c5a8cdd9154d732b5a9d83e824ca9fcc256bfc862418d0e09d6b81c89720beb7f50b066c5da660ddb3c0ba20d66c9dc601e03e291e1ea2aa1576ddd2f5f429a910aa11adcd9901deecd92543bfac90fa6a46f4ab027109f6404585e28902d027fc969a9e7b0c9330274e7ec4033eabfe2f77b5c6a83b005ecd8b08dbbb6eb62245c9dd60dc8abc12e754c75f1299d7fce699dc2b00935fde0d645752fd655dbf58efd114d096eba96c7323f61dcfb41ab5730994b7c4f7fe8a87eeda6f90edc32d9cc5e0abceddb1624ceef2a91dc83da9f9aaa6b0e2c58bc9389cc81cabcc8b84cc6546eb2f42dbad1b6987574e651f62fe38155da23eed9ba317ab8c338f69cf7d11d761b0e9aa70496b877c58763946dbbcba37f845e25aacceef49a83d9f83f50b02c42b4567e3f1ec1714e6c7fd281ec25b9f8009255896d1679b9cabc4860b4f0d5ab714a12cd87ff1a64c53acf9517f04af49718124cdd9e3366dfb153143e4e418e57c88faf0298edd9476eb1835f4ca2cb3e61d0bab0e3285013e414590cb9c817ba2c6240afb746fa31d54cd12142bf1e0e9916f5d8d8a7b245bae8c1b86afbe0f29a76ed7a1ab66b36f3d45ec55f14ddc90b650614e46ac7d8954e7c6072b90b56cddfd68a73160495a088e1843fcfea78dc902ccc35f36b6784aeef014b70935a4314da7bc00d9d429bfda4eb2ab0714e9f7db34fcd428e22aaf983617c86bddb1a1b081a7e5d8a1e96cc5fdd71aa9cf4b3892638e62ca1983ea56187119accc17c66df3129004cc9fc8cf12377759b3629df0913988e8075e075bbf09c825173a5001818e3297b254ca42b2ab875c5c780494bc08cec66570af2a170bd448c81e29f52b984964600c07a70ddeb2e6c2f4971540d7f9fb8f0ed7cf6c81f454f8bbc3341813915ac58b88e6e7edbb8cc075ee5cd1cd3b659c7caddafd063caa02484a99af48724e8d7016285045bfbbb873b4ae202bb503b9db7478c62083ce4b3a80d4569f2bd7438de763220599f3de7b00900a324997378e6c627617f992016946b8e07838beaed809d1c69d94dd9950f21e43680f516f1df6c715f9aa25604332527c64a6ef10d912252b39276864511f8638658e30b830e6ca72111e19fbf1e9cdd4ef715fc588f69e57bedea3c3edbd08006e60574a51265b152f5763b9be1bd2d6313c0bcc1eb4db0aedf6b9f0b70f9cbf83bd53859f99ea98065b5506cace80a42c012dbe2b1d634c7292276346a5c767934bcee9ff0d104535ddc91822a78220496889b2c73d8f941c06bcb6c3a2d69dd7868ffdd1304b1fc4d82ba55e88fa0b5a5a677ca2e02e071ae4ef260d724817b985ab5128821d470e5d09de58f9866e2859ab4c9672838f6cf4db5b823055ca7073760c115fef240d3779fa4b86c63f9107a529ca5e14c6b8e44e79cb2abb9c623107267240cffdde5fd459eace4c218dfb4fb4081f3d94fb98598463b80a8e612b9ed5b5823c757458b99fe3b2c1b057ca199c1e05df180c6862278b0a89d7abd2b06ed0d406498c948e5459a056502ed91165b6729fe7eb6d7722509359eb644d9d8bf1e778dc10a6c7e4c9d94377dee31a0744933c9dbb4ef53d949cf7a4ac627352a4b351118e17cdb9f4e468e5d81bc3c6201fa75a2e2070e9dcf16d2c5a9e98e21479cebbf03df59caf008dd49aa9410e9a42f6dad11966cce418d04f8871642457fa465459b8c63bc05846abda85d89d241b8635f9e10d8938a966796bfdbf87b39d202e3b2977bf7ec94f0a842e683c04b4ca9dff2cf31d299166d10199b1722fe75c12877985b494ce9184d0f9dfa3db8ac8a10ec85040d98839157c25397cd0e6e5946ecc732c0cb26efce9e9de40d61c0ed9c8c976d1a2d36e239920223ffe73880c5c2aa1585199cc280289f76434992f17e986b4a70c48b9d0e1f6c2976bc19ddaf3bb51f42ce884db87797d635c423f930066a8ebe8faecdd213f2fb787db0a5b8ed426f9bfb774cc1a0abaddc3400e04f456078db0767a88319c85c70790d8f7fc32891ed8bcf156bfc5a7e5606c118d927008d05ae7172bc2051daf31433f004a195921eaeef8cc21c9042a89b0ad33810334de61f006b9216388e69dd33510a7c9ae78f5fc144a87360cc6f2dba086dec39127839c2a388469655a421e4cd3cf054c5899c6e3ef1ed641b145255e98bcd42bfc302ad968e8f6cb730be437e0dd2c5503b0d7f7729e59a85f283a3912f09b3ad671ceb7f059b7785fe5477ebe09d9aaa987a9b5998f600b46feb0310cc60f751bd758b00ea5d45ef8358a52a2582a476bb35e7167bff5512373f9deec4fbeccf19e069b30915489fd239b92ba8f9b3f30901a11b603e5c580408e8861b3e969f1941cfe36b370dd0a5b3587deb3d22f652a8dbcb69b0440adcb12ee5fd18bb0323a51da3bcf6a1d5bb31f3a81d1136525b95bc8397792f2e64729a2d22b0751aae34ddecbf044b90271735147bef62dc41608144ad607b48958c8e6f9d471f1daa3f376e2180c8b07997543437df456001baec9362bde83c818fefac362f01cf839c84dc6e53782c490906d842efac10ffa62772056feda9eddd46ce47ab644843a19ac5bc3a62fbc38db1e6066a8c0d2ac375a7cdec672b581c29130e50f6acc67f6cfad023f514efdd544c9672c394d043b382965769508b68291031954e50b09dbbf4c0e15016163095e3a919784072dcb14f1a3c6f81a2d7579f87473d248cb29b9a04cd6ba85d9c26a28b0051b9b27f451f8ecb0a6171abf5993fcd3bfdbf51495714b85dfb736c21e695bd11ed1e3657371da4eb9275a1e6b8ec8f36fccab7caaceef237e33077b4c9d02dbff6ba4b2b11e5c250c0e6b83b009590f6b6a96c276a5a11ef8914a873e2767c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"bdb79e3b0432a41bc4f5117424f3d0f8"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
