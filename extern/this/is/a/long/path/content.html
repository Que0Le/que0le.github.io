<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"200f05c8bf5426a94720140b3e0342db0cad7a4a1c14d14d2452da3248f9b857f70cc88e3751f9a0aba35a4a116cce68729eabe798d3a9aa02a2caaff06b20e2257b547d903b85ef24f18319ff6b4bb160ed457177566a5dca184396d9f41e33ceff71d7fd6db962900870ff20381f301915edf3a782b05554f3953d69e5d0e4b35d2b5f1ecfe650838dca9941178792cdd4d95001e8114de95818a67a25b549408ed1bd2be1edb9ba580920572f690375e2f228ad221d0369d402ddabca001c55cc1b07fbe9f4536a0be7e454310c7003c55c559d57464cf552157bb074f1c44e78526f04f3b35243336ae5c533b627b9e67ef7ba4a73356ee934199f75c46271a1d077d5fe06dcc98a203841fb1bf9cd36778a9040c659b02f5a26e5e12fa0f43ad812b86e536e7a62d1856dbf3416d838531d3adc19403bef3cebb48e784a02d7ea36b3100e4475b5228795ecf912fa4447f8b2096034e8e272f6e680d72b9a2920e2486cd1a3f53bf9a5d2fc3605b3ea03751493c7b5b0ce55411eebb4f5f6dff3e13e04f1ec582f2d99c4455fdd65adb7ba61cb67d9c473c07e3be175f5d34e3cc151eed4cf9a85051cd2d3cd794cf536e34f9088b87cb68267a821de4e7fd94f4746e5fe18bfc653048dffd721ed5aa4bcf191f3394dad61ecf57676bce9a77134ed2c20b77f40f22b8c000c5c1f832337d184e380fd2fa37357f96764af647ad0314b23a7db6f71ac82587b117f315679dad7deaade4d54f82e7c00023775934024b965deb88cb6307eee4f5618019cca52e970685a625336be577102f74bd3df1ada8f79dd68461879e10a120230d159acac4342402a357137fab6cc1a8839591d0c5bd94f5b170802c480b08d94dd0c446f1342baab02217a73d44ebb2f63f16bb6cc75ee834d8a25ac69171faf04ec87a2cce806d83ad1bdf9def32acd61d9df07eb031077453b5fd590f77b81e691d04d75f3f6a0ba548469523a76013e701da2450a854ae05abe1a379d5516cfed468745cb4d5a75a5c1dbe70e06ca946b2971c3493fdbcd5faf2942dca473232ca8b6a2fd11eebb608c304d355c1c1825a7fbf779246b7382ef5eb78d621963dc4d1a1afc34bc0f8786175e36e73a78b3b0b9de258009bbfd63fd789711ef0abd083ceebe662e6303d3e2057c1a968519acf5c8e160c94091d3cc883a75d1f703952d9e2e5bd7765dfe199753070143e98b9aa5baf740d2b8c2c33b3e7c28f272946c6c7d78e63dfb71a5f862e46ff366faba6c82dd4dfd43731d1b487b3a9b8a4dc164fd96eaed563c7a7a614070a8156124927156e84fb4c805d3cde90e09a0383f694cb5865468a9fd33be4aba62f3c7c4407eec41a4c59f7d6f58282a30ce3d36b962e08c09cb6173118116e4363622fe56ba060b9e1b84ff552365c8829755868474530eaf77ab63f20242881fba088f8d83571d3c22cb25366fd09f20c78734f2437152d41abc8bfd945ecccdb50b48bc81a2a360476bd89e408f2bb6f5d942cf1630d615f8be76d961bc6b9f282f180bb98e3c3541db4a70482ab5b1f445df31c24758a401798afead1a56c591e9d64565ac86fcfcaafec50aad61c04d78f137b5876f201804625a808756ef94e037dcbecbed6ce1e6fcbd6f58c1dba0db6a4747ef72c463cfd757232e6d21aaf67a693232a2f7d21b835eb0efd9c0b18b4630e40157600834094b17d83e87694dcbf1f3f4481e937b5366e80e0fc95a2032b2ebb543d33c9d4d73b053214f09c0017524fba26f4b9dcd21d9dba54d990b5a04b39889c62176a8d615f573086a0f6ca6b545cb4d59611f334fd9ad626433a364ec8d64c607ba4c9ffebd70eabd47281c3c66a69e532c03cf3ce7ecc00061d4b1cba4b03a161f4027a508035888b871dd9b6ef0e0765956113cc7a90f2d2525fbc0b3f3cfc653cfa412706c1024c2e98514aab61c319f8119d6b8a8fbb297ebfa6583aee3efc2c7da0e8a5756a178f77806c0eb6cc5015b5de106a2fe482b6013e022824c0c95ab8ddcff41af1a834dd97a90faf86c4cd2bb28340a93f708e7d14b916b23a486f448624e407876e6e0234495b526957f181c07b827a676b681ba5855fd86769df4b3579308360e2c4a04700cddb7a819c43d9822b34bb60aea3ede3ef6e1ada6856dc5d14a2a7bcd63379094d7a989122c34501a6efe1b14d1c3a7bf5f785dbfebf58f108e3e9cd1463f85d657ba2573ed88f35c30aff48f68eb5db5b73f90bfaaec3939e39ab731693ff8e19ac99a0c534bd324bc7b46b10fb8fff10a347dcb03a7a5d9ead2991297cd8124b2969a5c54162ad55743cda585ab937f8f07834a47f18eedd613ea8a221344d066cefafe8978f814e53842dd4ade34d662619d44e1d561674df3e815ef66afac3cc204d56744a41f276abbe824c21093b63d3dbd5afe03dc2dd6ff567e1b08a05da6dba46610919d8443c4a134b36f8a0c3c23f413376d06b1b966fe2cd2d90eb4b1d7f99f063d0168cbe7672dc017ec4ae873481006a1afb1afb3bb3acf0c8decc6df94897642c746e0d9cb3bd3c204293c03a44ecc7d398415c137fd9cd01039e59bfe1dfaaffe74531a13d80c7eb40890bf9aa111da3aa530370a8056aaaad91e293530bf749dd386540dad0b4302d0a2ac369317e012c733c562df5322df308e96f817f9ee6a6c73f782cc3ad1c972a31ca43d8076f00b30e362d9a6147d6d3488f019f0a0b169adc7cef95c49fe9c08210f6d0bba388a4227d37dbf3355678bb7942bb03542fd72a5de4ab9314147002adb1f48998288ed0022f46ee5fdbc8fc88bf3e3d3e331f865b11de2bbea507ef1ca14daa717b19ded7d445fc83234861bab14aeecb0f15e5ca5c33a033235148085b13ac0cdd3ab96f09f7f7617c3f82c9796e56fb2a103e93b8c3427858a5b5b6cdfaf22846fa1a0bd8528d38003646a39e20a0b04f145aa2fe6e05840d54f28268381379eb709039df2749eff5fe80db36c064669ff0907061d0a2ed949808b9987e3ded08e38e96bf0737b8026c8f171381c9bc88311e27ddadc9a0a3c03ad27031831e02da604f91dd063283d96ff38bcd82e280bc87a82e2404f5bdf43895daa8adb3226b9f6f60e4a027af2d07a74fd72bbb8b69566489dcf415af8826d0a9f2fa453dc0a40667be2e46fe826d220c2e8b6894bda679817d910cf116b30271165e51adeabcbd78e1a3f22cfd4ebc2cda9baf870f5771b184b8ed6554cc7f1b7409b555baf3584cd6c391eb312308b71351b36c6beba72fecfe999e6aa6418cd7e2c24af83940dd77c77bc279827400160524803ce406143f451eff09101f19ac588fba27375d00b475e8746111bd5447e5e39d970fe63741a1a420d2a689426fdd605b59f823b9c02535102a9b4fd0aeb8a205f4f85c497ad1eeaaab393276e92d35f9c1de99fde372dc9b2b24df0ffca8c723523dd8e7061a83083c9b159a6781ef2ebdc409be716e325ab39b216f3205e1e572846304f66975223b5ef6bb0fcd84388a777f3397967c10650fa6229db099b95c565969117dc4f0eecdab457612696c4d97a87be0a2136bd4c824af7545663f11fe6d9a2d61d3abeb99c6d8c0ba7e6d8ef3d7d9840ef49e05c47276a8f5464f9d798f0759624f09826bf945c5f0f960f56b9db6a2ab3293e2650356b900448ca2a827fd74bfc4862c3c0f04992c82da28b7bc0ce6603700c7d9af737634225bcd980fed537028c008a48a503c2aadd1ab6b059663d10bdd2c3e43c7152284bde457c83892c9143de18528842ea452914c6d946b491f50e76be381360b73256a20b98621ab58cb0ae679d8881ab68853e577b1a0fec7609e87002c34233d26b4c9290b34550b59c54d4b4fac42adfbd1b0d54ad09f0510fa367e55661b33c4efa0a68600b473513b23cb9f86407b78aae3f3514c04df7d9fc1faeb4d94628a7b834c931cbcef716bfcde1b6b9dfd26ac1e9c9be3b4a7a94bbaf92cf6ab0d488b910bea0d5a0aca1bfe9d8a00fd0bf10a98dfdd453afd711efd628fd9bbe323237424c3fc5953c3fabda608725f93a2ca3f65e820a55685c6213563e60540c500764e82165f9d92d89499565fe6a693c6e7dafcd0c5071b88d2792b38c9140ff03afe9032502308510637aeb5ef2fc387dfd68ce01e47b7908ed6da112f7dcc85ecffd995ca7fc17eab4f6bc1ee51d91da9bd0e2d09a4ca051c7e1493abb57a03b5b835b042d6406d428193a0fd801ffc8ce3db37d7c3ae801d2d556d7a444c2f4f99b0bcfc8739ef14c28396a9c35561bd2e2e6ebe2eddff2fe745df77b1bb22b1d91cb98898c23df58a7950e634086d3900e9fd401c2fa445815739a5530eda22d673732908c2687f0bc9557c1cdbf1bfe58cb099750c06c13580302cb52fe807761fa8f514646b9f8a0001cfbb7f87b01f0ac8dd6034f9dadcce1c8bd0d06bd36ed4f2c90971b4c7b57c4d497d9dbfa883c8ba9b5078c2e09ce047425a2ad4569539a2ecaf60c9a8413434aa7ecc384c093182c5456e13a8d8611131ec37aa899171de686e2ed38fe8422860cae5ecae58932ca0aea15216bdeda6f2e87655e4acdb43ba64446cb4bd771e879f088c8c71704a03f8afd9e4ef9e75ca6777bec5b5004f0f9dc8005c98f788f16867c3705a0d2cfd8e27bc4320fcb7ebf6f47051c4141cf7ba4b26749225f290121ab7ddc624bc72f8792c84c360088b86357fce8a2756d31475b2785512b8c5fc6faec3b87f3dad17a14694ccbd04d2352c7e9a23d002dda2a539d2fa5f6f544f95970930a951c485ccbe12b22756967febc45779444e59a65ed8c09bfccc5386c7b276dfff629e5c3729b2789c0c0ecc0cf37271050dba1215ae56d86635b8f0573ce93ca4c267dcbeee636ce26a29e0372e29984048061c6ef9d6021bc782fd16f0609b257822b562b56caf07776e01b103382d068b011260b012ad45b7beb63da94b59b731e6b2e7d7a28ffe1239d76f5a8c31551283c775b1083b3c05451e355f65fd5071342e6c4c3efd0721e17a582809195487d7b48075a152ce137e6dcaca575652d97292875d468d994c857e4fb08f179ed33e77412c2f2761fb4c72e2f1d26084615ae2c26a6ca2d0ada37c0969cc87d9ff1a9ad1f717284382e9167a2585cd1451872e74a085546655b8447c6ee33ff4b76907bf1653e2b8514199e0e82c6db400ffc1ce2f3ebfb9094760360d24528795270b9c8380447c971b251cc45831430ff787c4ff67cef6c7699f5aa5ed3e75d99f02ce27a5564280ccc45aec149bd15c9a63562c519c0d965a7d4481c8024c16e1b266350c1f585dda92c1aef0e4521eeaf176343205baf4a07083a09ac72124be8ae493d78e3b1696867303bcd80c20ccc376b58a24251373553353f1bf00ba02abafce1edff91e15d70a6b92e81d957629470b063144810d1e56fa8647ec54a96a384c3df3b0943d5f2bd36987b967f5fc89e9d7fc527ca1f0e6db5c3719f0ce9644e1ae816319f5c76015a07622569d0a30c907c301b727236f14f52c40b7a7baa4a99a34dd43a1329e2e26bc9e088f05ef62f808b0def554c5fcd3e6f74d5d51b4012d1d0cb446afd0fee36f9e629bbff9be3a61ea20cebf4f8a9a57bcaf131b67dc386779cedb8928f39b0a6875e4d3923053a7346a0a7f72024b5aa0e435e84a04de7e776b0bd00d74f3ebbd56f22680eb20430fa54201b1b58f682dc92dab69ac1458a921e441ba14359e56e5fe73481fbccd4856b12f6348c2c210f2140ccf202ab2818f3c8828d94a853c3ef9b75c3bc3fed78b091822c1d8cdd4e0ee48cdfde943033c437c7875e7e60482f64b6a3ded3e4cc3570ec6f4c0068c50401387fa7abfd1878b1f7a103d3ace5be021be6bed11d2afd37362e4e2b6b4394cacc610fb84909f9a2399fe4a4f7595584b089e6ce79d1991171846c8a7a376eb5a9ab688820135c56eccc5040a04fbddcdb196ae82dc04ba4aa84a11a5f9ee88753e62433b2846819f9423bf8d79bd7bccbd814c5020b91f1524dde758d1f1872f12580959348fec84e18f0fa932e2769735c964ad130483ab69b84edffa7bbbf1b1fe32f14d6a5454afdf77a9a28231abf8d73507088b8c2bfcff6362e2651fb9c528beefa235f9a5a6d1407c52ff82a07d90958c99c9a5af9ad52b31d8326834136722b85fa3296621636a83a90c3f0914be165b75a55230dd6f1e748a49e23d910c6c5461d7672350d52d3d1f9fa03d75563857b63aadd203dbca5a0d20195a1acb525507a36692230a2d8f39b05b7d53f802f501072a4709375355618b9899e7e7e55679be15aaa31f44ca47c06fa3c7aef81e0aa92dade7cec86260e7a7fbbcc27df9d95fa4414ae69cba125822246f6052788f4fbbb0f678d32492fd65d981f38132cd932498d2a1e8a793943576857544d04267b6a73186cc697dfe0e5d6a3b54f1be14fbccd14b841deb2384ebb478e8e786e26cff5100c596fa1116d7f36427ead33319574e08990222fc5ebee1244ac8a8db20da23b50ef0ab2f00ba9200fe3f24851598baf7da7574f84f73b5470f375f1a277b1da447cdd718215299408ed637e84dcfcb66760cec0817c8f6d0fdb2a72bcb60cd63eac789300a11b93ebddb70efb8a73a83d30c8974c0e0302f0f65681a2e5566637952342c3646bcfc9caaccdb5968086a0c4067269cde258eb77e1b9563a921cf679c64be839d6719874a90975fd904cf2c30a78917b56f82a38bc7103139dc8807c5e83bdc4b795759601ee2c9606c0fd8e7df0253677bcafd26bbeb6e04a3560afd1b896bc4fc71b5390b20628c06807fd27966d3cd0c9dff1bec398d347d1fbabba60dbf1070d2aa19f9cd35e7a66acac8e6d05982bbd8fdc710a5bbfdef64a0840c61cd0ec474822c744e55d055220e513ccb18effa851bffae958e68f843b9e3b0e9797dc31f0e79884d2fa0ad1b2ed6f5859478b884eefb7d61b83ba9d0fe397697fd565f8a7bf67ac070e5693979f90fedee958f30585f66d3424267854665a8ff3a49303011e8fadf69a4dddca48f73e45365e6c514709065d5364e8f52885f365987a3c1df8e80bdd4e3e6bfcd8ab400ad7861ce2785554cb3f93c68cb8031c03811ecae082a87289b17e57fea920d9ebebbbae01467e482d2d5bd36a461c793a777a74d019c496300b865d8416ef21386dc83a66926040895c5014ae984ee31eb3e33285310e9438f17c21f6c302b8d7c4ff89e9dd4dc9a78a635c3392da801673cc363da5c67afcaf6a7ef473d6758a8b238f8f9792ced25cd21185f04912786f64f374a29f528a3436db622b117bfd2988856b265cd0e8e950ed3d3d30f9e8f062e02c5104277d956f10531bb3012d154e37f181cb1ab59bd4ba67a36daec7e84f5f6bcf73b7179377c0648bbe3da6191beaece1d41dfe93020b915f9c869f0b9f15425fb1be7bf1d8599c366c6894170c9178e6bc349483d23c46e03406d8e3b60fb6f0fdc36eb823b16858e37074519ccf80484eeac3bd8ae44bc06cb3146d5440ee0de46000b3572664ec7d17de31c21ab6c290a9bc08f516800e283fe3597d592bd7934335c37d451740e830ecba10f39327d21bab57725273d5fe825b20d03aec8d11ab8ce94ce15e2566247ee8d7e94e84a15e97017e2c6e13a921c2074912ca5c6e22fcb7c94b60491d001b47762eb801351411aa2d312f716a25d701e30ef367ddaa2b6ee058db1957164cf1b54a68c7f44e9112326b24122b09eadea47db28384cc05c5add8cc15aaf1fef6c86a484ea5ab47b2d5f013362f06fdb6a39df7f54c1d091c39dbe43b31e12f754e172e3b5165e2bf901b8b79bc6f324f23e47d375a52aabb8f9450ba4c4e2a02273676169ce07c9e3eb65e42bbd7c2205afc895a262d423d67c0e07c5c7035a74d4080f3c403300f2cfa635623ca1400e4002d3e8fc852ecba144d43fba7ab879b3196d493038997f2e47d3498e4e5015f58ab4bc19dfe175da7385ab9e78ae1d7308ad68ebfb0b4056aadfb5d4b3412c324dfa3abc390e85b3f10858d0abf96f89f7b209d8cedaaa71fc17dc46f503c884127cd8f0769640b07458c989bc75e804a3e50577553464465efd626f06a2fabb872b056c052e927422c3cad8ae3badc5ce2af2b5c8dcec0b4004333b56ff52fbfc519ec8ec381e459e655bb37fca3943d7f0b00c2750991df8c7c805c3a9a908f1923a5cda850a0ddcc4f0d3281b6a1a6d8fc5ca15deb63f9b9de8435627f7db5da1067737ff3e3ea4c2ee6160232663da10f2dbb21c718bed28576f7be28f2436fcb45156dc64a9654f81fd68ff6c9f19789746d503dfaa87c1dfcb2bd2b46a786bea5e38dfcfa4b6c5deddeb68a68f12dfca76ffbf4bcd4259613755c233cc6dfcc94802c8fd0bdc448ccb12ef170a2a34c4e37ba0ecc19f2c6636c072fa21d1f549bcbf7a37aee4d4b0647b73533e36b9175d16566eaf46c633d8820a5498c6c9a16dc06e70d4fdcac7b9df9e5836f23c3ab0b8fc939d1a870611602432f105c8b711916e36d85c06888946cb0c1fe2a50b0704b9b8bafd3c91857123af3a2274dd838842497dc4110138d213324a0419fb5a04b1a9f49937ecd8cabcade539369ed9cd64df2f4bb015f2b8315a729373892e4d947814abe38cc0d00bb6ebde2666d25ea28ef32c0a5832fa1cda3af3ed645125758773a8436cb5651756a5004e0b50cdb466bf0bca463cb96d826cff38c6da20ebd8b2e7d8b79d7188a23c0339aafdb60e62b6bd18daca877bef267c6e3306dc4cb7edc2f38f3992637b91be0852f0366c83eab1771881af91d1b04bd9a68288e57c957ab05ef4d139192b5d4b1c421a01381163b9c453aa2b15eceb6fc8146f70ab5c313e3260d4d4eec67d3dc1d7a427678ae1a2fd5e45b093b7e61ed65f2b4a38c2b339288a310c3f0759a680caef0d3aeefe9eec9c49628b8efec8e11085e7122ff781de2c12ce1bd3920b2db5678a00f7f9e162e6912c2d345e5ac96cce4b43aed7cd06785f24d3a80283157f23d0e7b5b117f83e9208cac50bbb7e0cce55ae52ca67e88e662f2a27cdd2f45290eed1ac5d11d7b0b569bf1ca2055c746559894a0f04bac8fd750a4d4a8a7b18c7653f43643dc00565095947b8bedacadee71090026f1cb947b9b9a348ae1627dcf310c24db38eebed65958132ecf11d6ac93cc20caa82311db50f7bee1601ca63eb909c4a4cd5507c85e1210f480c213614314d0fcc678143c76acba3a11ef661034e42d2f171537a50e5729e8a395007ae5c81fd1382c1380e479081173e35b62c7fb9e94c309a28cfd4740b938423887545afefbbc66ef4c8de5ed346aaa4167c56c97b7427d542553903e418b8d54719ad11785c5c4a64fed5421fb96cd50eee58f883632e1457e1d00d76f5a1e91a4b7b0c7b71f7976fdfdfe61a998f8d3ccc3241d980534354b4a159d5260154c3bf2d0999b404fdffcdb1376d79782c5a94976ba6c8e1b550d5de3929106d90a3460f3f8584fc02b61ca216a8d2d48b98c36213155cf1c853bd821db3e8228e4e9fa74cd39cc047168fabeae27251f9b0bc712c74293669325555d4704baf13c21a84af5c6f000e1c405204a9917f9c4c049a3b087b179056a8d00224d0f32470b1e482284cee7c31bc84680af49d085d94035d78ee3370b135c1159895afc615d6db1d93a2cb9829a8b74b8e35bb406d5c8ee8289556773d900b2c476e524a8cf5537e8336949b20840ad60c22f51ceece5304c95d4c9047ab1526f29a7512b9f3d55a4411b65feb030fadde0e2312502efffca0c94e93c12aa9e976ed276cd1c733848117335cc14ce31f1a6b80dc711e39a2d03154c3bc136ce2f6da403560e560e41d5dbb6eab3214e1d90c06087a95f5ee53acc48533a9177db67664d79e04dfd778c0ece377125640e28d117aad4d77c29fb51f0521d6928fadf1d67a7da5013a65e60175d777981e08d2f08235239b79aaf636e7cff2420b77b42e40d54316281af6613e33b9c63d5129aec67b449697c7b9048298d32e357bc1590430e978ec6d2706c68c3c2b57bf1b89a7f868a08170d0249b883b77047feab54ed532088ebbee66e58eb7ac3ea6f66219cfab1d2598b549bf2a00ce2198ea0932704290347dcfeaa84f07185205c755cab6f4f8537c95d55188b8b43ea041e5f6bb17090f86f5f49b6d0038b7dd4c19a51697eb8c60e7627114e63d67fe45d1c8da68ed69456e4208a9b6b0435dac075d539abd01ec0d7fd6357b73c6a69813e21b5d2ed2213e8865262ca0ba4f2fd0a7616136c2425714fda33dc02df0fb97d4ebf6fa35afbcd3986d1a23ee689134c5a2f65b75c5459ad99e5821348b6356255dbcc306e2b1cf1d269c2dceacf806d3797b446493f0ba77954c7687121a06e38dcd512f57d43d60a668220bd6f53677948c8c108934c07d7b90e8f5bc34b9c12e333398f938dd17e111a1514232593e3b75137b99925336228c7700995cfbb5086f183e8c83e629532b77a11a1a62bb1b5c9d9c576f88e3975b71419aca6f8f78e8e2d5de02ebab863daecedc3d3e0767b7ec1cc51385e6d1f13a5759e589b192b71ab623270d7aab3ef910591e47b6753eb7ddc9644a71f300bc8c2b3cc0dee7383142483c371ffecfcb22edf1ba16ed057806f66c0c44cd40650165a614b1cb70ccd603b140d200e38abab264348e6b53a328ae3fcdd4ad866325063233072fcbafcb1c15ab422a1e9fa53c5a6fdfb2900b54739f3d54c7c16bb90db5f7955e621a863183cf0ce8f6c00134aa04df5f07ddfa5b74d937362ca46ab6a178d6465032a4e08923ace6ef1d4508c96737c5a93693dff874ca62bb39ee959cadcdf332d863fb4b8f63c26f8e224fee512aa7b9b1a73b624c955991510aa64f29dca47ad808b15248aca6cacc3cb7664e5866e48a772c6fd12d4923d867fb3f2874e978720745c4ccd74640a547b4cc94517d9e0ab2bdd8e50a72b82bfe2d24d6fab06c2ba260f599193a5e6731cada4e0009bff4099ea47aa32eed44bad06fc255d44ceabcdc19e8c446838f24db9f1ae9788023af9140a4561bb0d5bb2f8581f919e9fb96586b1580ac290b3839d8a8bc4dc2bec4718883b114f128bba66a141e26d6476c76f49be6233df3cf65bb7b3f8885fe76cd0ffd5bd6acbef651558bc2c5311a5b80d0a2d266b836c3a511f1f0e05aab78d39fb19df5c0bba774048dac7966516e96cade12eb3dfb7a67d18c24959f1a5de26dca437e0ada6d7ab2bb3f86428030e11c4128976111f3ac435e34f706cd4e3cddda84f2744d466f3b9e32981d12be098ebe1e2030cbda3a8a0e2c204d2c92ea4e663a614e09395e7388a9ae0d8b8020ff5d5f33d32c764b4b9686ccc6ec8a3e4520a23c93f7d13e89e1bf8dba24023f561214506151624d44fd9ee7afbd5ea8052080d0aefb0d25a9b534045ee96cc657b955a11501b194a9dd39b2d228a5c338e9767840c7834b50206f7abca433ed69ed7e3d1c0821ac2450336bce415b35d8ba1f9ee946ce3697c5a49c592b01536c63d009a6e306fa634946a17962602430ffebc97fc9cfb78397267e209c8944e32b9b2d9dafe2bd89ee292a1ee3a7a69c27dac33c3a7cf300f995f7841588c219ab1f3e39bff6bff21d43939cb5773f9085b55755a7e7f03ddb43ca40c0876942332eb9d4e4131eab1ed11d165d77487f3b78aa7a4006cb2b50cad5118af4dc864a446fe3d2086bf4848f047b31231e95cca7155f20a69f9590e0a491d3948a9c422e9bbe13a1ffd830a6a4a83769dbef62ca23f850a023dbaa817a927069fe21b8ac742f77ce18517912cce59f5b4f32d1aa06f580ec0665c794a8bc8d2a22a6ee6257a0419ca959d3d49c8c6c3334b95a4481b1594780bac83ded2595b5bc5cf5ee254fa43f54be0d10b8458b38012981919e0b9d6cae088cc84bb6c14e1fcc5378f9a05a58162027b51ccd6644bb7bb1b7b7644b5b68ed41b28afa005f40a639db23f05440d343f3a10dc995b7c2ac7d94d0f9ef7f678c4b956a36919c8129decac54649eb288d5a41ccbb582e047d87407c3609748f914714abf02602b9d28bc8868cb67b3df43cfbbc600203cbb2a214d56764c50a0e48b7d5c02a0820bf4eb1845ba72d47d17ca6a53cea1d9982ce7494e9e3b4b1a921d4e02b0384b464ecefd73630f3b1d1dc0ff5b65a03a9bbf43f97fd6ce90e724c96e5302ca26027a84bdfe79ddc4ed06d421a3f95ffb71fc4d9a42eafb7c303a59ca112147ee8f0a5489c5dec41631cf710d66b7700ce7b6f82bbb48818b265a95252cd619c1d04e5ff3b0aa56beb08ef8eb0121b43cc4d79c4696d064cabee78531bcac7a66ac7643b848ea9be7481f2b94e28e461e1ffb3f836ce483f1403d47b3b4c70e98d4f5df0ad47fbb282427e88f39bbbd529a03c6b47c3ec01c21a2afedadaaa3158c85bdbb5b8538effbbf72a631df9ecfe08efeceb462fcf564558d850a0fbbb55de70ede9d33f268f82adff13b6ff35bfe0327f5b5f817ffae476605382edb458c7dd171348f6aa55edd2eedc191c1fe96ba62918610481c8eb98125e0c3f2b4c1968a52b256632a008bcbfd1cc6734a30be2ba8a8557ff31c38388cddc1307ecc5c6b657a48122a26edb080f77cc277b3638b48c64587d6e3402239b8c48420a205a5eeaaff945d02eb5a67eb053ea8f2647113ff3cf6d1bbc24f679834af1457cd13266cf26b7b7683a2879b21412e45366743ab7372fce655917e58f8c20c0733dd4541124578d8db044ad1c228f874d124ce5f6a27e9ea5362ac3fe05dd5d6c7c44bd725129b08900f1b84e358ce58640ef9f36f080e5203526639a1f57e1ff1444d7047f24e042f5c9bf37f1c9828f08abef3e1f200765451df2c220d924651ced8fe1cb156d199e2988a3576bf7c485f1190ce8be85edd5dbab40be961862648bb3418dfbf3d0a5f56c31146ed28bb747911b9ac231aeeb8e38728f9ed9db7c8558c23409be9a635219e62bc809b1a319ac0ffc911994c6026f2c3dac79261822757f2126521d7d95114262829a5be42e6ffbaa342d4ecd42979c716f8c9b6a5aa6d774d37f880a3114ab3f5c3d68de9f127fb580bd69e6ff3e43de7b328c65a7cc3f9912859ea4de246122fcd14a18ab59db295b292d1a67733889907c9136dd694db631b13cdae4c2d16c63cb80da56379f6ea01e6410732945774b90025e23c1a29a258d61f344a01ad9128641e890d21132d7177e83bea7eb6eedc95fe28663148f4e5c4a313912597d7d083e3e517d2b7368a87ea479c07c9ca20ca081a2d692d875d05df6316dfb360beb9531b826f414c8b7da61a003769efb0983f8091432fdcc55661fb629d8f46e483f1990946d43b8c34f5db67c5ed25d9b341e9e51c9a9e6caab73cf96fef787de88310899420defa4a12e2bd05f6a1256fbd0ab20645576f5444eb5a7b5074b80f4f2a6aea30afe130d10c085dfca534f40b17c2ebf588a68d83b9cce1587aff438dde1ee750e018ed98aa3a366574ccdbc2291464df2880671bd7fd63c20655d055146777c4778723f5c0fbb155675fba743606bf4ef9458f3b9a74d36dcec5df2499882714d4f44b5fe53db158eddbbe83ff110ef7f12552a7d89d6ccec67be6e8054aa8e115997724946ee25cd6957c87f5807414f686cd4215f7591358c72efb915511f1cec80d92b72a3b0544d87be3f787ae9bb817da6323b0bf596097acba32cd905ca20e05e6f885ef8e69e5cb79bc3a05e114bb832aad1ebb7e0b8e01c6dc3dd7580a5a05ba73814c0e2bf49131f7fe02adfa46db1bffd784ec8e3f468485c0646c7bf2a15c3158f76afbc583292fb510b2560b40a3c738db9e1aeddfa2961e3e052ee81bc356929005c050b24efb4bfc95c57d3a5d6f6caea92961d6a77b00e7e5431e0781d968dc1cf11369fedb38074078e21bd06dcc4ec9e2ab975f5e3d445f6637e49640ff776bdd974148b15fcca219da9fab9130b726a3895414f590dea278595f2f31014f74ddf337c9b1ac748b9754dc87159f0920682588246cfe03d664385afe8d2b33f628ae44adc9cf8cc41694d9664384cf5150bfa4aaa23c75948b8b11fb44199916a64d89780898d877bfa99b3f07e4eb0434b1a0df47303f14206e93c7f2833cd66a0bfbb50cb407d67495f638d9fa49d9986c274225dee5b908be9ac22e29e98067aae76deefcd6cd5f0cac227a33d6859ef898956d30d961fdd0488c6628bbf063ae25d7b2c58084d1833a621a2a98d55f8eeb3ad817aa11189600f824cfe0bcf273b80397f5fba0df1171e9aa5de7ce58b361d829bca0db15739c3478460d372d8dfbdac5ebd7e96c9821eba982b920c8f7ea3dfb4493b3bd3418ea045d16b910d5f77de326833f8fdf6aefff145dd47e271791d669a0b15d2c2454cebec7b5c6405d910890e24744720ca532098522eb982928d8f6815c6498bc8c41a832d849de479e83c2d63c16e41790e2c4712be927d6c1bb7348ed247ab50e99ed47c07ec92946f1c0fbed6a9d2a047876f4fd555a11e8080515a1f4b961e5c3ee0892a176111d3977eb88bcfe63ff3b8883730c52b49d63deb4947acd5a9f2e7ca5cd0e237f318e50c886cde587221635e7c341e44ed0cf40b0c933ac79856b65f5284903901c53b08771af4d3fd33b45bead82874bed7c3a2b424e3a50639f867a23b59c506966a4a6fee26ffec02d2fdc17fb6987c1b53d7a3dc2607787e7400860aa386ef2491508fe2b01066319bfa9dffe44e6141e2969f6dba3c93d3b164d793dfaeecb9b1320b5fdab7b3731ba313a76086ec2dc7a17619e811835ae04a19c29eb71cb4f61c8c3d7e2cb299c9029ddc4d9f9e55423909bf5dfa928de5c2efeb46e800a420aa9630a1188dd339235ac95107f7bc254545008a4111752b08f859572a39eb2fe7a9c8830510fc3b1f54a0de0258d3827892586482a9d6ab1fb1cb1008fc39726ab72f354adceedc474621521330df1995d9d3b4464cd46c68c5c5eb06b4d106da3eaa84018df45a60cb333a86cb188fcdcfbdcce24beb40097cae4e224cade42928d2924b10f764f0e8933a9e63ce52fa3b77605fd5e2b486933a711c377901afdcd58b6aa7c3294818c6a462940299c30f13273393d2105ca719e9c47799a2c19b60df83751e559b6e7b5621487ae18d01e45b12903da79938a4c13b08f63574c1b9077b87275ccd08627dde24784f5dfe3e714799852b921fb566a4e87fea6c1a0275fca4cf40b9b361bd4cb388e8c1e7829d547d80ee9a6f735bd17d05898490dcccf40549e9715852b799c292dbf59e6ac1a15198cedb0974ebfaadbb701812c815328ccdf6ae3a527966ef5206b7fe9e2e27a44b373cae8f2b42b078a7194a0aa24604527ad6148a88f4e7e46291f0c6a41abcb72c9474282df54b05671b2ea90470c02c44990a93703e01a9fb3fd6eeba919a1bca4250502c18b67accd2d7317a2304e0a32e7d8063f01760eac33bc24001cea6bfe8c763acf73c91396d9a677926d8cad65f3b4d9a466bfa16823f05f58847aeb1b3fb09f9aa9292826b780b10cb2c08d80c19235dee8c0b87b97f474fca453cc487bfa3d5ab4c8598c9796eefbc476018bb0f04986ef7d188a6bd501a846bb79d0f7ffce619d5eb8d2d1a2087cedfaa01333db99aa613381249aa4a82e1af6dc38100ff01f1a005ac4a1bda7ce81002d645059b61dc79d3013917143b49e555c8301910435df65e5c3226392c57599226998985388791ddab6c123670e1bd4f3e65afdf76f22a90149d18aadbaa4f67d47aa4f8d57e63f154354711a899c67069e88125b35b16d82a78cde7907c24279c88e0ceede3f5169655e0615208f60e9e1433a8bcdb80ace6488b788d17aeb2a6e751fdb1f54b2bcf289ba7dfbf8806d1ab012a654f9e685783ddba58d4733b49d5e8d286ae913b3726cc443588a7d3b65bff748535753119734f60c7560820c312007b240aea61e24d6ed16046cab784dbc1854318411300bbbf5d073ec209b285a32f5efcc05ec3c0ce6a6444a2dd2d26da87c60bb0cfe076244546cc8944a44aef94b56c0a99e4fd7ef5fd0aa9b596f8dc0b18551a4d4e960ba1619ea130032aada2bc08f95a68cf735f9d682c65444ff0001b3b14855fe1a8a5a28148bcc08e89e54acea4b4382ffc63e7b3cd44b46bf7ec1ad5918a33b477b8f79c4ee3e34733ba8592d38da7d94fb8a788501ab7331fcd785a91a06da60376adced783dd5931921482b900d92804eeb90dba844b254eb97e0f53cf15d412c1415acd0c5ae87582a87c204f40c8dd5455fa306ba90dbfd6f503c5822c74bef3af9f37de06a939c91671004578cafa1792bbbf83cb2f874cf24341786d47b31cef6da17ea0235b1dec25bba18a5cbfce7080399fe84186472c067f6928a1961e8e22b2f00844cbaf03c5fddad81d78644d53338e20e7fbac968ddfe5b73c469b4257ea336c74c56f57f9e7e1c2eb0eefc8a4938ef6980fcb48c0b798b3f26a5c05e0e0c11c63cda13e57faf76b13a15c7a13f643bc35d95c781ef8a88dc438223025a508e5f11a4dcbbaf49dd361b4b78de4d33c33b0919e42ee4ee9b109845835d5839baef27a79a270a1357f7c72e1710f04d80a662c9928e2982dcd7e8c48619d2c13176594aa9e94a17550582426c455a90ae75c8cce28d201644ac25e9cf70483bdd790e8fc1d2d056de2d9b924b47b2b65ccfb5fad34c7844f5a5178c17bf7aa7fbe1b66fdc37ea5dab9ed36844ca99dfa34334564c1d1701e8b70fb0d94eba69a25ddf9019a8194d3371b12e4b46ae0ca896554dddc2876ec5e9df38516e4ec15107097acf22bea6a98dfa646fdd96d906e347f848cebede1b2423451f199bde3759e8278790a18c6a6124af3afa53dd11dbe5a5f7d2dc244e3660af31a5cff0ddc777a1f1cc9b3c11b9ea391982dbaf26edd616ab74e744e63427caead0fc64ebb66ae8627d3ddbc11b3e121ba4f4a764f251d5e02e514d4ef36a2346910b8eb18c9f271a518935905133c02e5af9161dd33b716fe806c7ed32f1f18fe015f4f745c96c647f08c7c0699ee6f9a2ebc51469f4934dacebf24d21b0ee60a660ca8d056f0f631935e34cde59d87d0a3d6b0aa18ffc14c272a0e60be49a45546e3ce5697da969bfc84513582ee36e83f360b14e229215e3001c387e5f802375ec373e0633c619b117e17b8535f38a4feccf705a49a777b0c6d935db3509076e5e15760a728579eec948c5a1e7cf95d675ce715a891d411184792860f294eea956d33bd7dfa927977dda782cf545f244dcfcc5d83342c61b111c71f0dd2703cc3e0636622019520373e7290675b4131a5f62c0ceede4896112bd7ac4c530f6496e1fe692b370703a8cdbee6f7d323142af31527caf2d3030df6e8558e61c7703665b2b6c0cc7dd0cbdb7f6eee3cc5a1aa335541d907a2863c11ac8beed04208f923b5945692e2f18eb6b0cfc1ef98db46c20d0e10aa3c6e08d5793caac70f7111fbab8b5af5d46f29fad6785559cd9b5db6d5493ebd71dde28710162a19f56c7218ed6fe035d6f18db36bd06d01f0ebf94aa3507f597eda50b294c398d203cd801c890c7d16839174506e5f3f04db8bb9d15b835ac39f52e7880c3291ecbc3974e06f899050ca86664d8f6cec2816d18080571228a0220e87c621ba746438d231e5d3c8117973b65248c7d5e018a84cedaf2d64772e361c331f47193f34ca8f9c9f5508b744ae0571348c300c4ee3ded84390c830603f5dc2858a3355c7ceb6a7d466a5943ca9f3cd78985ac095ac4679bf6f98c26267fc720834740b1283bfd5a4cca46e4792a17c64069b6f569fd6732e14fe09f58e0a01c4edbafe30508cdbe63919ccb32393b188f7d784d29b6060e66d54157257e8da9c15c5035c1ffcae9846208c7d789512781037ee83f5f3c9b1d1c5ed9617158454738e97b0203cfada7aa8275317bb583848433d859d175f4c8bf72b041135e9ac692450b8cd973b867a155e56dfc907dcd7c78dc4f4c53d79dae0f661dc483e6e91744078a8e44d0a68f6a61527630a11174d7c5c29ed08e00c8e85deec9da858ed27070a7696c30b6009e6627e639e5be3ff431e79c64d2364f57d66719ef0fd559e119570ad5a5b27002d7bf33537842ce7d56794b73d72a5e82cd75fac262231f531ac4d59fdf4c8f867f1ca058952ec11b611003ccdf13b951eae6dbce6fe105bee9f8aaba36f890dfe234e6c5a425903be926394dd74524051bf4746a141e1a9b7f1ff9d00aa37d91177dd0991cd3e93bed8d58d4fd8ea62ac016ec27d74b186505bc6b67bc88afb5e200e76175d747b5bcbf9912dee8080d63caacee51455df315b3ef01b7120f2ed5854344af4078d794cad02f26555a2d3ae722c0b611469208e0f50550d235748f255a5d7d758769678cbca0b1b9f6f3523d1d35837edde1c281c0c2e65905075434dfc2166503e362a6147b2bb547685a1d3e54135f208d972d8219676d18b9d1f743dfb8bf7216d68e9a798cae51f6962412e865c256ae4c0fc94ed959f8b8c60edde439c56e44c3b02e2217d1b8a17139d3475599cb006f1440db1e5e7f682083aca48775f4f0654b1ce36c3b238bcaa6a905eb6a4d06fb040d3947dfe49f1f3528ec1ec7062595ea3ff3502a5f6a9ab6f3109bf7cb399a935b7b1f5d03a8dc2c820af6d8ad60e9997ee75aa5aea932e22cd8ace78d90cca020f2a5b64ea100b8a0f11ccc5476437a69d708b3bbd6d2beb6bac8f2d9229a46a044af3c2ef19f5357f4651d80a2ecaa84bf7253ba825d88302efa8c696646674c003b405b5f029054ad3c69080075968e847315fad7bb522d0e99f533e7009bf908d2c2c0a2f2cce73817b8899816dd5fe3e9fd7b929e7f8b44ebf0ed80ab3f2ee6681bb91cb5a2c47ec2f6a16cfe2d1dd5e99210e806d5c12279f4e6ecacfc77c3fba97ac26f9f91","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"bdb79e3b0432a41bc4f5117424f3d0f8"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
